âœ… 8. history.html â€“ Booking History Page (Final Version)
ğŸ”¥ Firebase Setup:
Booking data is read from the Firestore collection:

Collection: bookings
Document: [user's email]
Field: history (Array of booking objects)
ğŸ‘‰ Ticket cancellation will update the array by removing the selected booking.

ğŸ“‚ Path:
/public/history.html

ğŸ” Purpose:
Display user's full booking history with options to:
View the full ticket (in ticket.html)
Cancel any booking (removes from Firestore)

ğŸ“„ What This Page Should Have:
ğŸ‘¤ Welcome message (with userâ€™s email or name)

ğŸ“œ Booking list (each with):
ğŸ¬ Movie Name
ğŸŸï¸ Theater
ğŸ—“ï¸ Date
ğŸª‘ Seats
ğŸ’° Amount Paid
ğŸ’³ Payment Method
ğŸ”˜ Buttons:

âœ… View Ticket â†’ goes to ticket.html

ğŸ¨ Linked Files:
âœ… CSS file: public/css/history.css
âœ… JS file: public/scripts/history.js

These are already in your repository.
âš™ï¸ JavaScript Behavior (history.js):
Uses Firebase Auth to get the current user
Fetches bookings/{user.email} document
Loops through history[] array to display each booking

On "View Ticket":

Saves clicked booking to localStorage as selectedTicket

Redirects to ticket.html

Updates the Firestore document with the new history[]

ğŸ’¡ Developer Notes:
Use JSON.stringify(booking) to store the full object
Use .filter() to remove the selected booking from array
Confirm before cancellation with a popup (confirm())

ğŸ’» HTML Code
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Booking History</title>
  <link rel="stylesheet" href="css/history.css">
</head>
<body>
  <div class="history-container">
    <h1>ğŸ“œ Booking History</h1>
    <div id="booking-list" class="booking-list">
      <!-- Bookings will be inserted here -->
    </div>
    <button id="home-btn">Back to Home</button>
  </div>

  <script type="module" src="scripts/history.js"></script>
</body>

</html>
