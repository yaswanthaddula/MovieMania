âœ… 9. ticket.html â€“ View Ticket Page (With Cancel Option)
ğŸ”¥ Firebase Setup:
This page:

âœ… Reads selected booking from localStorage (set from history.html)

âœ… Deletes that booking from Firestore if the user clicks Cancel Ticket

ğŸ“‚ Path:
/public/ticket.html
ğŸ” Purpose:
Displays the full details of one selected ticket from history with options to:

âŒ Cancel the ticket â†’ delete from Firestore

ğŸ”™ Go back to home.html

ğŸ“„ What This Page Should Have:
ğŸŸï¸ Ticket header: â€œYour Movie Ticketâ€

ğŸ‘¤ User info (email from Firebase Auth)

ğŸ§¾ Booking details:
ğŸ¬ Movie name
ğŸŸï¸ Theater
ğŸ—“ï¸ Date
ğŸª‘ Seats
ğŸ’³ Payment method
ğŸ’° Total amount

ğŸ”˜ Buttons:
âŒ Cancel Ticket
ğŸ”™ Back to Home

ğŸ¨ Linked Files:
âœ… CSS file: public/css/ticket.css
âœ… JS file: public/scripts/ticket.js

âš™ï¸ JavaScript Behavior (ticket.js):
Loads selectedTicket from localStorage
Displays booking info in the page
Uses Firebase Auth to get the current user

On "Cancel Ticket":

Fetches user's bookings document from Firestore

Filters out the selected booking from history[]

Updates Firestore with the new array

Shows success message or redirects to home.html

On "Back to Home":

Simply redirects to home.html

ğŸ’¡ Developer Tips:
Use JSON.stringify() comparison to match ticket objects accurately
Add a confirm("Are you sure?") before deleting the ticket
After cancellation, optionally clear localStorage.removeItem("selectedTicket")

ğŸ’» HTML Code
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Your Ticket | Movie Monia</title>
  <link rel="stylesheet" href="css/ticket.css" />
</head>
<body>
  <div class="ticket-container">
    <h1>ğŸŸï¸ Your Movie Ticket</h1>
    <div class="ticket-box">
      <!-- Poster -->
      <div class="poster">
        <img id="movie-poster" alt="Movie Poster" />
      </div>

      <!-- Ticket info -->
      <div class="ticket-info">
        <p><strong>Movie:</strong> <span id="movie-name"></span></p>
        <p><strong>Theater:</strong> <span id="theater-name"></span></p>
        <p><strong>Date:</strong> <span id="show-date"></span></p>
        <p><strong>Seats:</strong> <span id="seat-numbers"></span></p>
        <p><strong>Total:</strong> â‚¹<span id="total-price"></span></p>
        <p><strong>Email:</strong> <span id="user-email"></span></p>
        <p><strong>Booking ID:</strong> <span id="booking-id"></span></p>
      </div>

      <!-- QR Code -->
      <div class="qr-box">
        <canvas id="qr-code"></canvas>
      </div>
    </div>

    <button id="home-btn">ğŸ  Back to Home</button>
    <button id="cancel-btn" style="background-color: crimson; color: white; padding: 10px; border: none; cursor: pointer; margin-top: 10px;">âŒ Cancel Ticket</button>
  </div>

  <script type="module" src="scripts/ticket.js"></script>
</body>

</html>
